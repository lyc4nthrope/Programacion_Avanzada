### 1. Solicitar código de recuperación de contraseña
POST http://localhost:8080/api/password-reset/request
Content-Type: application/json

{
  "email": "pruebasprograavanzada@gmail.com"
}

###

### 2. Validar código y cambiar contraseña
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "123456",
  "newPassword": "NuevaPass123"
}

###

### 3. Verificar si un código es válido
GET http://localhost:8080/api/password-reset/check/123456

###

### 4. Obtener información de un código (Admin/Debug)
GET http://localhost:8080/api/password-reset/info/123456

###

### 5. Invalidar todos los códigos de un usuario
POST http://localhost:8080/api/password-reset/invalidate/user-123

###

### FLUJO COMPLETO DE PRUEBA:

### Paso 1: Solicitar código para email existente
POST http://localhost:8080/api/password-reset/request
Content-Type: application/json

{
  "email": "pruebasprograavanzada@gmail.com"
}

### Respuesta esperada:
# {
#   "error": false,
#   "content": "Se ha enviado un código de recuperación a tu correo electrónico. El código expirará en 15 minutos."
# }

###

### Paso 2: Verificar que el código sea válido (usar el código recibido por email)
GET http://localhost:8080/api/password-reset/check/123456

### Respuesta esperada si es válido:
# {
#   "error": false,
#   "content": true
# }

###

### Paso 3: Cambiar la contraseña con el código
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "123456",
  "newPassword": "MiNuevaPassword2025"
}

### Respuesta esperada:
# {
#   "error": false,
#   "content": "Tu contraseña ha sido cambiada exitosamente. Ya puedes iniciar sesión con tu nueva contraseña."
# }

###

### CASOS DE ERROR:

### Error 1: Email no existe
POST http://localhost:8080/api/password-reset/request
Content-Type: application/json

{
  "email": "noexiste@email.com"
}

### Respuesta esperada:
# {
#   "error": true,
#   "content": "No existe un usuario con el email: noexiste@email.com"
# }

###

### Error 2: Código inválido
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "999999",
  "newPassword": "NuevaPass123"
}

### Respuesta esperada:
# {
#   "error": true,
#   "content": "El código de recuperación es inválido."
# }

###

### Error 3: Código ya usado
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "123456",
  "newPassword": "OtraPass456"
}

### Respuesta esperada (si el código ya fue usado):
# {
#   "error": true,
#   "content": "Este código ya ha sido utilizado."
# }

###

### Error 4: Contraseña inválida (muy corta)
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "123456",
  "newPassword": "123"
}

### Respuesta esperada:
# {
#   "error": true,
#   "content": "La contraseña debe tener al menos 7 caracteres."
# }

###

### Error 5: Contraseña sin mayúsculas
POST http://localhost:8080/api/password-reset/validate
Content-Type: application/json

{
  "code": "123456",
  "newPassword": "password123"
}

### Respuesta esperada:
# {
#   "error": true,
#   "content": "La contraseña debe contener al menos una letra mayúscula."
# }

###

### Error 6: Email inválido
POST http://localhost:8080/api/password-reset/request
Content-Type: application/json

{
  "email": "emailinvalido"
}

### Respuesta esperada:
# {
#   "error": true,
#   "content": [
#     {
#       "field": "email",
#       "message": "El email no es válido"
#     }
#   ]
# }